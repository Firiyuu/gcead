<project>
	<shortName>GcEad</shortName>
	<fullName>GC-EAD 2009</fullName>
	<version>1.1</version>
	<installerFilename></installerFilename>
	<enableRollback>1</enableRollback>
	<enableTimestamp>1</enableTimestamp>
	<saveRelativePaths>1</saveRelativePaths>
	<startMenuGroupName>Syntech/GC-EAD</startMenuGroupName>
	<vendor>Syntech</vendor>
	<allowComponentSelection>1</allowComponentSelection>
	<componentList>
		<component>
			<name>default</name>
			<description>Application Files</description>
			<detailedDescription>Install the files necessary to run GC-EAD</detailedDescription>
			<canBeEdited>0</canBeEdited>
			<selected>1</selected>
			<show>1</show>
			<folderList>
				<folder>
					<description>Program Files</description>
					<destination>${installdir}</destination>
					<name>programfiles</name>
					<platforms>all</platforms>
					<distributionFileList>
						<distributionFile>
							<origin>../Installables/gpl-3.0.txt</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/idc2fpga.hex</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/idc4fpga.hex</origin>
						</distributionFile>
					</distributionFileList>
					<shortcutList>
						<shortcut>
							<comment>Uninstall</comment>
							<exec>${installdir}/${uninstallerName}</exec>
							<icon></icon>
							<name>Uninstall ${product_fullname}</name>
							<path>${installdir}</path>
							<platforms>all</platforms>
							<runInTerminal>0</runInTerminal>
							<windowsExec>${installdir}/${uninstallerName}.exe</windowsExec>
							<windowsExecArgs></windowsExecArgs>
							<windowsIcon></windowsIcon>
							<windowsPath>${installdir}</windowsPath>
						</shortcut>
					</shortcutList>
				</folder>
				<folder>
					<description>Program Files</description>
					<destination>${installdir}</destination>
					<name>programfileswindows</name>
					<platforms>windows</platforms>
					<distributionFileList>
						<distributionFile>
							<origin>../Installables/Windows/GcEad.exe</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/idac4.cat</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/idac4.inf</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/idac4_x64.cat</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/libusb0.dll</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/libusb0.sys</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/libusb0_x64.dll</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/libusb0_x64.sys</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/mingwm10.dll</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/msvcr90.dll</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/QtCore4.dll</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/QtGui4.dll</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/QtSvg4.dll</origin>
						</distributionFile>
						<distributionFile>
							<origin>../Installables/Windows/QtXml4.dll</origin>
						</distributionFile>
						<distributionFile>
							<origin>../View/images/GcEad.ico</origin>
						</distributionFile>
					</distributionFileList>
				</folder>
				<folder>
					<description>Program Files</description>
					<destination>${installdir}</destination>
					<name>programfilesosx</name>
					<platforms>osx</platforms>
				</folder>
			</folderList>
			<desktopShortcutList>
				<shortcut>
					<name>GC-EAD 2009</name>
					<comment>Run GC-EAD 2009</comment>
					<windowsExec>${installdir}/GcEad.exe</windowsExec>
					<windowsExecArgs></windowsExecArgs>
					<windowsIcon>${installdir}/GcEad.ico</windowsIcon>
					<windowsPath>${installdir}/</windowsPath>
				</shortcut>
			</desktopShortcutList>
			<startMenuShortcutList>
				<startMenuShortcut>
					<name>GC-EAD 2009</name>
					<comment>Gas Chromatography - Electroantennographic Detection</comment>
					<windowsExec>${installdir}/GcEad.exe</windowsExec>
					<windowsExecArgs></windowsExecArgs>
					<windowsIcon>${installdir}/GcEad.ico</windowsIcon>
					<windowsPath>${installdir}</windowsPath>
				</startMenuShortcut>
				<startMenuLinkShortcut>
					<comment>Launch web browser to visit the GC-EAD website</comment>
					<name>Visit GC-EAD Website</name>
					<url>http://gcead.sourceforge.net</url>
					<windowsIcon></windowsIcon>
				</startMenuLinkShortcut>
				<startMenuShortcut>
					<comment>Uninstall ${product_fullname}</comment>
					<name>Uninstall ${product_fullname}</name>
					<runInTerminal>0</runInTerminal>
					<windowsExec>${installdir}/${uninstallerName}.exe</windowsExec>
					<windowsExecArgs></windowsExecArgs>
					<windowsIcon></windowsIcon>
					<windowsPath>${installdir}/</windowsPath>
				</startMenuShortcut>
			</startMenuShortcutList>
			<postInstallationActionList>
				<associateWindowsFileExtension>
					<extensions>.ead</extensions>
					<progID>syntech.gcead</progID>
					<icon>${installdir}/GcEad.ico</icon>
					<mimeType>application/syntech-gcead-ead</mimeType>
					<commandList>
						<!-- Defining the "open" command -->
						<command>
							<verb>open</verb>
							<runProgram>${installdir}/GcEad.exe</runProgram>
							<runProgramArguments>"%L"</runProgramArguments>
						</command>
					</commandList>
				</associateWindowsFileExtension>
			</postInstallationActionList>
		</component>
		<component>
			<name>idacusbwindows</name>
			<description>IDAC USB Driver</description>
			<canBeEdited>1</canBeEdited>
			<detailedDescription>Install the USB driver for the IDAC devices</detailedDescription>
			<selected>0</selected>
			<show>1</show>
			<folderList>
				<folder>
					<description>Windows DLL files</description>
					<destination>${windows_folder_systemroot}\system32</destination>
					<name>dllfileswindows</name>
					<platforms>windows</platforms>
					<distributionFileList>
						<distributionFile>
							<origin>../Installables/Windows/libusb0.dll</origin>
						</distributionFile>
					</distributionFileList>
				</folder>
			</folderList>
			<componentSelectionValidationActionList>
				<throwError>
					<text>You have chosen to install the USB drivers, but old drivers appear to already be installed.  If you want to overwrite the old drivers, please contact Syntech for instructions.</text>
					<ruleEvaluationLogic>or</ruleEvaluationLogic>
					<ruleList>
						<fileTest path="${windows_folder_systemroot}/system32/IDAC8_32.dll"/>
						<fileTest path="${windows_folder_systemroot}/system32/IDAC30.sys.dll"/>
					</ruleList>
				</throwError>
			</componentSelectionValidationActionList>
			<postInstallationActionList>
				<addSharedDLL>
					<explanation>Register libusb0.dll</explanation>
					<path>${windows_folder_systemroot}/system32/libusb0.dll</path>
				</addSharedDLL>
				<runProgram>
					<explanation>Register USB driver for IDAC-2 and IDAC-4</explanation>
					<program>rundll32</program>
					<programArguments>libusb0.dll,usb_install_driver_np_rundll ${installdir}\idac4.inf</programArguments>
					<progressText>Registering USB drivers</progressText>
				</runProgram>
			</postInstallationActionList>
			<postUninstallationActionList>
				<removeSharedDLL path="${windows_folder_systemroot}/system32/libusb0.dll"/>
			</postUninstallationActionList>
		</component>
	</componentList>
	<finalPageActionList>
		<runProgram>
			<program>${installdir}/GcEad.exe</program>
				<programArguments></programArguments>
			<progressText>Do you want to run ${product_fullname} now?</progressText>
		</runProgram>
	</finalPageActionList>
	<parameterList>
		<directoryParameter>
			<name>installdir</name>
			<description>Installer.Parameter.installdir.description</description>
			<explanation>Installer.Parameter.installdir.explanation</explanation>
			<value></value>
			<default>${platform_install_prefix}/Syntech/${product_shortname}-${product_version}</default>
			<allowEmptyValue>0</allowEmptyValue>
			<cliOptionName>prefix</cliOptionName>
			<mustBeWritable>yes</mustBeWritable>
			<mustExist>0</mustExist>
			<width>30</width>
		</directoryParameter>
	</parameterList>
</project>

