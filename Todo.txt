x	BUG: start program, start recording, discard recording, click on checkbox to show EAD Average: shouldn't crash
x	BUG: when recording, incoming data should be displayed on the chart
	mac: get isochronous transfer to work for IDAC4 (try libusb-1.1 when it comes out)
	import of Autospike-CSV files
	import of old EAG files
	x	EAD wave
	x	FID wave
		scaling factors
5	Add tooltips to the Peak buttons in the toolbar
6	Add more instructions about markers
		Click on "Add"
		CTRL-Click or Right-Click
7	File comment dialog needs to be wider, and it should be multiline
	Installation routine
		Prohibit 64bit installation
		Install USB filter
		http://support.bitrock.com/article/how-do-i-make-the-installer-display-an-error-message-to-the-user-under-certain-circumstances
		http://support.bitrock.com/article/execute-specific-actions-for-a-platform-using-a-platformtest-rule
	In record mode, when data gets to end of screen, use page-right instead of zoom-out
	Display time till recording done
2	BUG: Load sample project; publish mode; view mode; now std dev is always shown.  What should the proper behavior be?
3	BUG: load sample project; EADs; holding the middle mouse button shouldn't do anything.
4	BUG: View | Show wave comments: doesn't work in View mode.
1	Create unit tests
	x	load sample project
	x	charts
	x	zooming
	x	scrolling
		edit/show wave comments
		peaks
		hiding/unhiding waves
		adding/removing extra waves from charts
		inverting a wave
		save
		open
		views
		moving waves around on the chart
		recording
8	Run unit tests in GUI
		separate View and ViewMain
		create ViewTest
		run with valgrind
9	Create new installer for Windows


DONE:
x	let user set markers on EAD waves
x	let user move peaks (and don't remove peaks by just clicking on them)
x	ChartWidget: Double-clicking the wave brings up its settings dialog (will need to assign WaveEditorFlags in ViewWaveInfo from somewhere prior to TaskReviewView so that ChartWidget can get at the flags too)
x	zoom in button shouldn't automatically have focus
x	shortcuts for zoom in/out
x	View menu: add actions for switching the view type
x	View menu: zoom in/out/full
x	Let user scroll chart with the mouse wheel
x	View menu: scroll -> scroll page right/left, scroll division left/right
x	MainWindow: move peak FID combobox from TaskReviewWidget to the toolbar
x	in publish mode: checkboxes for time not saved between sessions, off by default (or remove this option?)
x	ChartWidget:
	x	BUG: for an FID marker, don't let user move peak region outside of where the marker was set
	x	right-click menu
	x	Add the vertical marker line to the area that is detected as part of the marker, not just the text
	x	Detect mouse-over-marker even when not in edit mode
	x	BUG: turning off verified peaks in publish mode doesn't work
	x	click-and-scroll with the scroll wheel to drag the timeline
	x	display of standard deviation around average
		x	create a common function for rough and smooth which just draws polylines
		x	make sure that it works when zoomed in to 100ms too.
		x	publish option to hide the standard deviation lines
	x	make ChartScope update the timebase string appropriately so that it gets displayed
	x	update status line when there is a timebase change
	x	Mouse cursors:
		x	dragging wave: SizeVerCursor
		x	dragging marker: SizeHorCursor
		x	dragging peak handle: SizeHorCursor
		x	dragging timeline: SizeHorCursor
		x	selecting: IBeamCursor



	INSTALLER:
		MAC:
			offer to start program after installation
			how to install libusb on mac? (see http://www.ellert.se/twain-sane/)
			readme for mac about libusb?
		WINDOWS:
			verify libusb on vista
	IDAC2
	?	IdacDriver2: get inverted status correct
		handle 0x7ffe (or whatever the reset code is)? (only if I can look at the original code which generated/handled 0x7ffe)
		get symbolic codes for the IDAC2
	TEST:
		test that voltage conversions are done right
		test that digital stimulus channel works on IDAC2
		is the decimation value really right for IDAC2?
		run through a couple use-cases
	FOR PETER:
		USB drivers CANNOT co-exist with old drivers
		IDAC2: same signal on INPUT 2 reads about 10x smaller than on INPUT 1...
		IDAC2: when I set ext amp=1, signal on INPUT 1 is *2mV* peak to peak
		IDAC4: when I set ext amp=10, signal on INPUT 1 is *1mV* peak to peak


	CLEANUP:
	x	remove/reduce compiler warnings
	x	suppress debug output in release mode
	x	svn:eol-style=native on all relevant files
	x	copyright notices in all files
	x	svn:ignore relevant directories/files
	x	set proper app version number

	
	testing
		Verify that all menu actions are connected
		Run program through valgrind
	user documentation
	programmer documentation
	open-source it
		upload EXEs to sourceforge

FUTURE STUFF: doesn't fit in this contract, but should be done as soon as possible
	add programmer documentation to IdacDriver* projects
	log errors to a log file

FUTURE STUFF: doesn't belong in this contract, but might be done as a refinement later
	integrate RecordHandler into Idac/ or IdacDriver/ (and delete RecordHandler)
	ChartPixmap: BUG: while recording, FID wave sometimes is displayed with a vertical line at the end (might have to zoom in to see the phenomenon)
	ChartWidget: vertical "crosshair" line
	ChartWidget: When changing number of horizontal divisions in Publish task, move the scrollbar appropriately
?	ChartWidget: BUG: zoom in three times, then zoom out twice, no data is shown anymore!
	ChartWidget: When the user first presses Ctrl, update the mouse cursor if appropriate (i.e., about to set a peak)
	ChartWidget: Don't let user zoom in on an empty document using mouse dragging
	EadFile: returned more detailed information when load/save fail (and show it to user)
	Globals: set whether File or Print output was last selected (variables already exist in PublisherSettings, and they are loaded and saved in Globals)
	MainScope: only enable m_actions->fileExportRetentionData when the user has set/verified peaks
	MainScope: add undo/redo
	MainWindow: Beep when done recording?
	PanelTabs: consider choosing equal widths for tabs, if space allows
	PanelTabs: draw shadow around active tab?
	RecordDialog: when trigger comes, somehow start saving data on EXACTLY the sample where the trigger occurred, rather than waiting for the next data block
	RecordSettingsDialog: on_sliderOffset_sliderMoved(): make it use increments of 1,000,000/0x7fff
	SweepWidget: when signal is out of range, make it visible somehow (limit to viewport?)
	TaskPublishWidget: add btnResetColors
	TaskPublishWidget: when printing the time of a recording, only print hour and minute (not seconds), but keep it localized!
	TaskPublishWidget: save user-title to EadFile
	TaskPublishWidget: pen width for signals (Peter's request)
	TaskPublishWidget: color of signals (Peter's request)
	TaskPublishWidget: when printing in black/white, need to make peak labels b/w too
	TaskReviewWidget: in Recording view, let user select any EAD/FID wave he wants (not just the averages)
	TaskReviewWidget: allow adding comments to average waves
	WaveEditorWidget: add a [Delete] command
	WaveEditorWidget: add a wave color?
	WaveEditorWidget: let user edit name

	Refactor: ChartPixmap: remove knowledge of the current EadTask (perform task-specific logic via other variables)
	Refactor: ChartScope: remove knowledge of the current EadTask (perform task-specific logic via other variables)
	Refactor: MainScope: move File|Open Recent from MainWindow to MainScope
	Refactor: Task*Scope: create scope classes for the Task widgets too
	Refactor: Rename widgets for the right side: View*Widget
	Refactor: only call Globals->file()->updateAveWaves() from ViewInfo?
	Refactor: WaveInfo: vwiUser is a HACK, see if we can improve this
	Refactor: TaskReviewWidget: figure out a way to use WaveEditorWidget instead of painting everything ourselves, but still maintain smooth drawing

Link for info about writing a MatLab plugin
	www.mathworks.com/access/helpdesk/help/pdf_doc/daq/adaptorkit.pdf

FILE FORMAT FROM OLD EAD PROGRAM (EXAMPLE1.EAD):
	04E2: BcDataSet<CR><NL><6F><BF><02><00>
	04F2: <9F><0F><00><00>: size
	04F6: EAD data start
	4372: EAD data end, then FID stuff
	      <42><43><02><00>... (11 bytes)
	437D: <9F><0F><00><00>: size
	81FD: FID data end
	0x02BF = 703
	0x0002BF6F = 180079
	81FD: 

